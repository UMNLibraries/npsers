require 'test_helper'

module NPSERS
  describe Page do
    let(:page) { Page.new(url: 'https://www.nps.gov/directory/employees.cfm?StartRow=1&sn=a*') }

    it 'finds a result set' do
      VCR.use_cassette("page_1") do
        (page.result).must_equal ({:pages=>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93], :data=>[{:name=>"NPS 2009 Centennial Challenge", :email=>"2009_Centennial_Challenge@nps.gov"}, {:name=>"NPS ABLI Permits", :email=>"ABLI_Permits@nps.gov"}, {:name=>"NPS ABLI Superintendent", :email=>"ABLI_Superintendent@nps.gov"}, {:name=>"NPS ABLI Volunteers", :email=>"ABLI_Volunteers@nps.gov"}, {:name=>"NPS ACAD AQ Social", :email=>"NPS_ACAD_AQ_Social@nps.gov"}, {:name=>"NPS ACAD Centennial 2016", :email=>"ACAD_Centennial_2016@nps.gov"}, {:name=>"NPS ACAD Concessions", :email=>"ACAD_Concessions@nps.gov"}, {:name=>"NPS ACAD Education Office", :email=>"ACAD_Education_Office@nps.gov"}, {:name=>"NPS ACAD Fee  Waivers", :email=>"ACAD_Fee_Waivers@nps.gov"}, {:name=>"NPS ACAD GIS", :email=>"ACAD_GIS@nps.gov"}, {:name=>"NPS ACAD LostandFound", :email=>"ACAD_LostandFound@nps.gov"}, {:name=>"NPS ACAD Reservations", :email=>"ACAD_Reservations@nps.gov"}, {:name=>"NPS ACAD Socialmedia", :email=>"acad_socialmedia@nps.gov"}, {:name=>"NPS AD Admin Business Practices and Workforce Dev", :email=>"AD_Adm_Business_Practices@nps.gov"}, {:name=>"NPS AD Communications", :email=>"AD_Communications@nps.gov"}, {:name=>"NPS AD Cultural Resources", :email=>"AD_Cultural_Resources@nps.gov"}, {:name=>"NPS AD Natural Resource Stewardship and Science", :email=>"nps_nrss@nps.gov"}, {:name=>"NPS AD Office of Legislative and Congressional Affairs", :email=>"NPSADOfficeof_Legislative@nps.gov"}, {:name=>"NPS AD Park Planning Facilities and Lands", :email=>"NPS_AD_Park_Planning_Facilities_and_Lands@nps.gov"}, {:name=>"NPS AD Visitor and Resource Protection", :email=>"NPSADVisitor_ResourceProtection@nps.gov"}, {:name=>"NPS ADAM Shared Mailbox", :email=>"ADAM_Shared_Mailbox@nps.gov"}, {:name=>"NPS AEDIP SEP", :email=>"NPS_AEDIP-SEP@nps.gov"}, {:name=>"NPS AFBG Park Ranger", :email=>"afbg_park_ranger@nps.gov"}, {:name=>"NPS AFR Submission", :email=>"AFR_Submission@nps.gov"}, {:name=>"NPS AGFO IT", :email=>"AGFO_IT@nps.gov"}, {:name=>"NPS AGPM Requests", :email=>"NPS_AGPM_Requests@nps.gov"}, {:name=>"NPS AKR AK2day", :email=>"AKR_AK2day@nps.gov"}, {:name=>"NPS AKR Active Directory Help Requests", :email=>"akr_active_directory_help_requests@nps.gov"}, {:name=>"NPS AKR Adobe Support", :email=>"AKR_Adobe_Support@nps.gov"}, {:name=>"NPS AKR Alaska Park Science", :email=>"AKR_Alaska_Park_Science@nps.gov"}, {:name=>"NPS AKR Animal Movements", :email=>"akr_animal_movement@nps.gov"}, {:name=>"NPS AKR Aviation Manager", :email=>"akr_aviation_manager@nps.gov"}, {:name=>"NPS AKR Employee In Processing", :email=>"AKR_EmployeeIn-Processing@nps.gov"}, {:name=>"NPS AKR FOIA", :email=>"AKR_FOIA@nps.gov"}, {:name=>"NPS AKR Financial Assistance", :email=>"AKR_FA@nps.gov"}, {:name=>"NPS AKR ILN", :email=>"AKR_ILN@nps.gov"}, {:name=>"NPS AKR IT Approvals", :email=>"AKR_IT_Approvals@nps.gov"}, {:name=>"NPS AKR Info", :email=>"AKR_Info@nps.gov"}, {:name=>"NPS AKR Northern Hub Aviation Manager", :email=>"AKR_Northern_Hub_Aviation_Manager@nps.gov"}, {:name=>"NPS AKR OS Support Help Desk", :email=>"AKR_OS_Support_Help_Desk@nps.gov"}, {:name=>"NPS AKR RCR Archeology", :email=>"AKR_RCR_Archeology@nps.gov"}, {:name=>"NPS AKR Regulations", :email=>"akr_regulations@nps.gov"}, {:name=>"NPS AKR SharePoint Coordinator", :email=>"AKR_SharePoint_Coordinators@nps.gov"}, {:name=>"NPS AKR Social Media", :email=>"AKR_SocialMedia@nps.gov"}, {:name=>"NPS AKR Travel Help", :email=>"AKR_Travel_Help@nps.gov"}, {:name=>"NPS AKR Tweet", :email=>"AKR_Tweet@nps.gov"}, {:name=>"NPS AKR USA Staffing", :email=>"akr_usa_staffing@nps.gov"}, {:name=>"NPS AKR Video Conf Requests", :email=>"AKR_Video_Conf_Requests@nps.gov"}, {:name=>"NPS AKR WildfireInfo", :email=>"akr_wildfireinfo@nps.gov"}, {:name=>"NPS AKR email Coordinators", :email=>"akr_email_coordinators@nps.gov"}]})
      end
    end
  end
end